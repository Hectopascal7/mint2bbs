<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>薄荷社区-用户注册</title>
    <link rel="icon" href="/image/favicon.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="keywords" content="薄荷社区">
    <meta name="description" content="薄荷社区,MintBBS,橙色薄荷°">
    <link rel="stylesheet" href="../../../script/layui/css/layui.css">
    <link rel="stylesheet" href="../../../css/global.css">
    <script src="/script/jquery-3.3.1.min.js"></script>
</head>
<body>
<!--头部区域-->
<div class="fly-header layui-bg-black">
    <div class="layui-container">
        <!--logo图片-->
        <a class="fly-logo">
            <img src="/image/logo.png" alt="薄荷社区">
        </a>
        <!--板块按钮-->
        <ul class="layui-nav fly-nav layui-hide-xs">
            <li class="layui-nav-item">
                <a href="javascript:loginTip()"><i class="iconfont icon-jiaoliu"></i>论坛</a>
            </li>
            <li class="layui-nav-item">
                <a href="javascript:loginTip()"><i class="iconfont icon-iconmingxinganli"></i>市场</a>
            </li>
            <li class="layui-nav-item">
                <a href="javascript:loginTip()"><i class="iconfont icon-ui"></i>微博</a>
            </li>
        </ul>
        <!--用户模块-->
        <ul class="layui-nav fly-nav-user">
            <!-- 未登入的状态 -->
            <li class="layui-nav-item">
                <a class="iconfont icon-touxiang layui-hide-xs" href="/page/portal/user/login.html"></a>
            </li>
            <li class="layui-nav-item">
                <a href="/page/portal/user/login.html">登录</a>
            </li>
            <li class="layui-nav-item">
                <a href="/page/portal/user/register.html">注册</a>
            </li>
        </ul>
    </div>
</div>

<div class="layui-container fly-marginTop">
    <div class="fly-panel fly-panel-user" pad20>
        <div class="layui-tab layui-tab-brief" lay-filter="user">
            <ul class="layui-tab-title">
                <li><a href="login.html">登录</a></li>
                <li class="layui-this">注册</li>
            </ul>
            <div class="layui-form layui-tab-content" id="LAY_ucm" style="padding: 20px 0;">
                <div class="layui-tab-item layui-show">
                    <div class="layui-form layui-form-pane">
                        <form method="post">
                            <div class="layui-form-item">
                                <label for="loginid" class="layui-form-label">账号</label>
                                <div class="layui-input-inline">
                                    <input type="text" id="loginid" name="loginid" required lay-verify="required"
                                           autocomplete="off" class="layui-input" placeholder="请输入登录账号"
                                    >
                                </div>
                            </div>
                            <div class="layui-form-item">
                                <label for="nickname" class="layui-form-label">昵称</label>
                                <div class="layui-input-inline">
                                    <input type="text" id="nickname" name="nickname" required lay-verify="required"
                                           autocomplete="off" class="layui-input" placeholder="论坛展示的名字"
                                    >
                                </div>
                            </div>
                            <div class="layui-form-item">
                                <label for="password" class="layui-form-label">密码</label>
                                <div class="layui-input-inline">
                                    <input type="password" id="password" name="password" required lay-verify="required"
                                           autocomplete="off" class="layui-input" placeholder="请设置登录密码"
                                    >
                                </div>
                            </div>
                            <div class="layui-form-item">
                                <label for="repassword" class="layui-form-label">确认密码</label>
                                <div class="layui-input-inline">
                                    <input type="password" id="repassword" name="repassword" required
                                           lay-verify="required"
                                           autocomplete="off" class="layui-input" placeholder="请重复输入的密码"
                                    >
                                </div>
                            </div>
                            <div class="layui-form-item">
                                <label for="uid" class="layui-form-label">用户识别码</label>
                                <div class="layui-input-inline">
                                    <input type="text" id="uid" name="uid" required lay-verify="required"
                                           autocomplete="off" class="layui-input" placeholder="请输入您的用户识别码"
                                    >
                                </div>
                            </div>
                            <div class="layui-form-item">
                                <label for="name" class="layui-form-label">真实姓名</label>
                                <div class="layui-input-inline">
                                    <input type="text" id="name" name="name" required lay-verify="required"
                                           autocomplete="off" class="layui-input" placeholder="请输入您的真实姓名"
                                    >
                                </div>
                            </div>
                            <div class="layui-form-item">
                                <label class="layui-form-label">性别</label>
                                <div class="layui-input-block">
                                    <input type="radio" name="sex" value="1" title="男" lay-verify="required">
                                    <input type="radio" name="sex" value="0" title="女" lay-verify="required">
                                </div>
                            </div>
                            <div class="layui-form-item">
                                <div class="layui-inline">
                                    <label class="layui-form-label">生日</label>
                                    <div class="layui-input-block">
                                        <input type="text" name="birthday" lay-verify="date" id="birthday"
                                               autocomplete="off"
                                               class="layui-input">
                                    </div>
                                </div>
                            </div>
                            <div class="layui-form-item">
                                <label for="idcnum" class="layui-form-label">身份证号</label>
                                <div class="layui-input-inline">
                                    <input type="text" id="idcnum" name="idcnum" required lay-verify="identity"
                                           autocomplete="off" class="layui-input" placeholder="请输入您的身份证号码"
                                    >
                                </div>
                            </div>
                            <div class="layui-form-item">
                                <label class="layui-form-label">住所(楼)</label>
                                <div class="layui-input-inline">
                                    <select name="building" lay-verify="required">
                                        <option value="">楼</option>
                                        <option value="1">1号楼</option>
                                        <option value="2">2号楼</option>
                                        <option value="13">13号楼</option>
                                    </select>
                                </div>
                            </div>
                            <div class="layui-form-item">
                                <label class="layui-form-label">住所(单元)</label>
                                <div class="layui-input-inline">
                                    <select name="unit" lay-verify="required">
                                        <option value="">单元</option>
                                        <option value="1">1单元</option>
                                        <option value="2">2单元</option>
                                        <option value="3">3单元</option>
                                        <option value="4">4单元</option>
                                        <option value="5">5单元</option>
                                    </select>
                                </div>
                            </div>
                            <div class="layui-form-item">
                                <label class="layui-form-label">住所(楼层)</label>
                                <div class="layui-input-inline">
                                    <select name="floor" lay-verify="required">
                                        <option value="">楼层</option>
                                        <option value="1">一层</option>
                                        <option value="2">二层</option>
                                        <option value="3">三层</option>
                                    </select>
                                </div>
                            </div>
                            <div class="layui-form-item">
                                <label class="layui-form-label">住所(室)</label>
                                <div class="layui-input-inline">
                                    <select name="room" lay-verify="required">
                                        <option value="">室</option>
                                        <option value="01">01室</option>
                                        <option value="02">02室</option>
                                        <option value="03">03室</option>
                                        <option value="05A">05A室</option>
                                    </select>
                                </div>
                            </div>


                            <div class="layui-form-item">
                                <label for="phone" class="layui-form-label">手机号码</label>
                                <div class="layui-input-inline">
                                    <input type="text" id="phone" name="phone" required lay-verify="phone"
                                           autocomplete="off" class="layui-input"
                                           placeholder="请输入您的手机号码">
                                </div>
                            </div>
                            <div class="layui-form-item">
                                <label class="layui-form-label">用户角色</label>
                                <div class="layui-input-inline">
                                    <select name="role" lay-verify="required" disabled>
                                        <option value="0">业主</option>
                                    </select>
                                </div>
                            </div>
                            <!--                            <div class="layui-form-item">-->
                            <!--                                <label for="vercode" class="layui-form-label">验证码</label>-->
                            <!--                                <div class="layui-input-inline">-->
                            <!--                                    <input type="text" id="vercode" name="vercode" required lay-verify="required"-->
                            <!--                                           placeholder="请输入验证码" autocomplete="off" class="layui-input">-->
                            <!--                                </div>-->
                            <!--                                &lt;!&ndash;<div class="layui-form-mid">&ndash;&gt;-->
                            <!--                                &lt;!&ndash;<span style="color: #c00;">{{d.vercode}}</span>&ndash;&gt;-->
                            <!--                                &lt;!&ndash;</div>&ndash;&gt;-->
                            <!--                            </div>-->
                            <div class="layui-form-item">
                                <button class="layui-btn" lay-filter="*" lay-submit>立即注册</button>
                            </div>
                            <!--<div class="layui-form-item fly-form-app">-->
                            <!--<span>或者直接使用社交账号快捷注册</span>-->
                            <!--<a href="" onclick="layer.msg('正在通过QQ登入', {icon:16, shade: 0.1, time:0})" class="iconfont icon-qq" title="QQ登入"></a>-->
                            <!--<a href="" onclick="layer.msg('正在通过微博登入', {icon:16, shade: 0.1, time:0})" class="iconfont icon-weibo" title="微博登入"></a>-->
                            <!--</div>-->
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>

</div>

<div class="fly-footer">
    <p>
        <a href="http://fly.layui.com/" target="_blank">薄荷社区</a> 2019 &copy;
        <a href="http://www.layui.com/" target="_blank">橙色薄荷° 出品</a>
    </p>
    <p>
        <a href="http://fly.layui.com/jie/3147/" target="_blank">Copyright &copy; 2019 橙色薄荷° All Rights Reserved.</a>
    </p>
</div>

<script src="/script/layui/layui.js"></script>
<script>
    layui.cache.page = 'user';
    layui.cache.user = {
        username: '游客'
        , uid: -1
        , avatar: '../../res/images/avatar/00.jpg'
        , experience: 83
        , sex: '男'
    };
    layui.config({
        version: "3.0.0"
        , base: '../../../script/mods/'
    }).extend({
        fly: 'post.html'
    }).use('fly');

    layui.use(['form', 'layedit', 'laydate'], function () {
        var laydate = layui.laydate;
        //日期
        laydate.render({
            elem: '#birthday'
        });
    });
</script>

<script>
    // 表单提交
    layui.use(['form', 'layer'], function () {
        var form = layui.form;
        var layer = layui.layer;
        //监听提交
        form.on('submit(*)', function (data) {
            $.ajax({
                type: 'post',
                url: '/user/register.do',
                dataType: 'json',
                data: data.field,
                async: false,
                success: function (data) {
                    layer.alert(data.msg, function () {
                        if (data.msg == "注册成功！") {
                            location.href = "/page/portal/user/login.html";
                        } else {
                            layer.closeAll();
                        }
                    });
                },
                error: function (data) {
                    layer.alert(data.msg);
                }
            })
            return false;
        });
    });
</script>

<script>
    function loginTip() {
        layer.alert('您还未登录，无权访问此板块！请先登录！')
    }
</script>

</body>
</html>